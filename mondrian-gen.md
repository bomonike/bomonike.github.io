---
layout: post
url: https://bomonike.github.io/mondrian-gen
date: "2025-02-09"
lastchange: git commit -m"v003 + workflow diagram :mondrian-gen.md"
file: "mondrian-gen"
title: "mondrian-gen"
excerpt: "Here are my notes about creating Python code to create a workflow  to generate art using several GenAI services."
tags: [art, nft, ai, cloud, python]
comments: true
created: "2025-02-07"
---
<a target="_blank" href="https://bomonike.github.io/mondrian-gen"><img align="right" width="100" height="100" alt="mondrian-gen.png" src="https://github.com/bomonike/bomonike.github.io/blob/master/images/mondrian-gen.png?raw=true" />
<i>{{ page.excerpt }}</i>
{% include _toc.html %}

<a name="TheProgram"></a>

This article describes my program at <a target="_blank" href="https://github.com/wilsonmar/python-samples/blob/master/mondrian-gen.py">https://github.com/wilsonmar/python-samples/blob/master/mondrian-gen.py</a>

The Python program assembles, into one file, many Python coding tricks and API calls together, in <a href="#workflow">one workflow</a>. That's to be prepared to "do anything" during hackathons and MVP creations, <strong>quickly yet securely</strong>.

Thus, this is intentionally a rather "bloated swiss army knife" monolith.
However, in the future, utility functions here can be
moved to a separate file (Python module) of custom utilities.
But they are together here now to make it easier to understand and modify.

## GenAI

Currently, this program has both local programming and Generative AI (GenAI) API calls to create (from text prompt) a <strong>PNG image</strong> file that can be printed and possibly sold as NFT art.

Perhaps in the future, this workflow can be extended to other output formats:
text, audio/music, video, 3D objects for printing, synthetic data, code.

Criteria for evaluating foundation LLMs:
   * Competitive advantages
   * Incremental Investment (leveraging existing skills on AWS, GCP, Azure, Databricks, etc.)
   * Cost (acquiring expertise, license fees, fine-tuning, and running models)
   * Vendor lock-in
   * Privacy & Security (private data leaked to China?)
   * Quality (hallucinations due to lack of content in the LLM's corpus)
   * Latency (does it waste your time creating or running the workflow?)
   * Biases (promoting toxic & malicious stereotypes in data used to build the model)
   * Debugging (logging, NeMo Guardrails)

Regulations around AI:
   * EU AI Act
   * US Algorithmic Accounting Act 2022
   * Japan AI regulation approach 2023
   * California Regulation of Automated Decision Tools
   * Biden-Harris Responsible AI Actions 2023 and Trump EO 2025


## Why Mondrian?

This effort is to see how the different ways of creating horizontal and
vertical lines of rectangular boxes filled with primary colors
compare with the intuitive beauty of works manually created by Mondrian himself. Some call the art style "pure abstract Neoplasticism".

I came to generate my fake art in Piet Mondrian style because it seemed easy to create his style in computer code: rectangular blocs with sharp corners and filled with primary colors.

<a target="_blank" href="https://res.cloudinary.com/dcajqrroq/image/upload/v1738186942/Mondrian-21_ig4bxv.jpg"><img width="300" alt="Mondrian-21.jpg" src="https://res.cloudinary.com/dcajqrroq/image/upload/v1738186942/Mondrian-21_ig4bxv.jpg" /></a>

While impressionists were painting soft landscapes, Piet Mondrian started a new movement of abstract art with his "21" in 1921. It presents as logical and simple for people who liked things orderly.

When I was learning websites in the late 1980's, I wrote a Java program that created random Mondrian-styled images. Recently, I rewrote it in Python, which generated images like this:

<a target="_blank" href="https://res.cloudinary.com/dcajqrroq/image/upload/v1738291361/mondrian-gen-20250119T192300-0700-1-pgm-keep-art_xaz6ef.png"><img width="300" alt="mondrian-gen-20250119T192300-0700-1-pgm-keep-art.png" src="https://res.cloudinary.com/dcajqrroq/image/upload/v1738291361/mondrian-gen-20250119T192300-0700-1-pgm-keep-art_xaz6ef.png" /></a>

<a name="Astonished"></a>

### Astonished

When GenerativeAI burst on the scene in 2022, I thought it would be interesting to write prompts to see what text-to-image generators would do.
Here is one artpiece generated by OpenAI's DALL-E:

<a target="_blank" href="https://res.cloudinary.com/dcajqrroq/image/upload/v1738186913/20250106T113307-0700-1.keep_smvdg7.png"><img width="300" alt="20250106T113307-0700-1.keep.png" src="https://res.cloudinary.com/dcajqrroq/image/upload/v1738186913/20250106T113307-0700-1.keep_smvdg7.png" /></a>

<strong>I was astonished of the "liberties" generator took</strong> with my prompt text. The image generated didn't have straight lines like my programmatic code would generate.

> Here is an example of how AI's LLM "fills in the gaps" of what my prompt text did not specify.

It's ability to "hallucinate" is a feature, not a bug.

If you want the same result every time, write a procedural program like your grandpa did.


### Never the same twice

That artpiece on my wall is a reminder thatAI generation is not "deterministic", meaning that every time I run the program with the same prompt, a different image is generated.

So I had that first image framed and hanging among on my wall as the basis for comparing others generated. I used a frame similar to another real Mondrian paining:

<a target="_blank" href="https://res.cloudinary.com/dcajqrroq/image/upload/v1736178566/mondrian.29-compnum3-268x266_hceym9.png"><img width="300" alt="mondrian.29-compnum3-268x266.png" src="https://res.cloudinary.com/dcajqrroq/image/upload/v1736178566/mondrian.29-compnum3-268x266_hceym9.png" /></a>


<a name="NoRules"></a>

### API don't need no stinkin' rules!

What would other text-to-image generators do with the same prompt?

When Qwen became available Feb 2025, I used it to generate this:

<a target="_blank" href="" href="https://res.cloudinary.com/dcajqrroq/image/upload/v1738186876/mondrian-gen-R011-20250129T120659-0700-1-qwen-art_cfvoot.png"><img width="300" alt="mondrian-gen-R011-20250129T120659-0700-1-qwen-art.png" src="https://res.cloudinary.com/dcajqrroq/image/upload/v1738186876/mondrian-gen-R011-20250129T120659-0700-1-qwen-art_cfvoot.png" /></a>

The above broke the "rules" of Mondrian with its broken and faded lines.
Colors are not confined between lines.

> Lookign at it reminds me that AI does not natively respect rules.


<hr />

<a name="workflow"></a>

## A GenAI workflow

<a target="_blank" href="https://res.cloudinary.com/dcajqrroq/image/upload/v1739206840/genai-1-1802x860_oxp2to.pngg"><img alt="genai-1-1802x860.png" src="https://res.cloudinary.com/dcajqrroq/image/upload/v1739206840/genai-1-1802x860_oxp2to.png" /></a>

The above provides a sequence of <a href="#TheProgram">the program's</a> workflow.
It is a snapshot of a future video created from <a target="_blank" href="https://7451111251303.gumroad.com/l/hdrsbe">this PowerPoint</a>.

### 1. & 2. Secure API Keys

#1 and #2 in <a href="#workflow">my workflow description</a> (in yellow) is to manually generate an API key for each service and store them securely for authenticated access by the program code.

When I don't specify a specific api service, the program rotates through them one at a time.

The CLI call is #3 in <a href="#workflow">my workflow description</a>.

### 3. CLI parms

I added a parameter to specify the number of images to generate with each CLI command call. I prefer to make a separate call for each image generation rather than specifying it in the request to the API. This is so that I can control the file name for each image generated.

### Pydantic

   * https://docs.pydantic.dev/latest/errors/validation_errors/
   * https://www.youtube.com/watch?v=_1Nf9KNhsPw&t=550s&pp=ygUEZHBzeQ%3D%3D

Pydantic helps with <a target="_blank" href="https://www.youtube.com/watch?v=fCsV3kCOeKc&t=3s">debugging</a>.

Pydantic is a Python module for performing configuration management, data validation, serialization, and deserialization. It is primarily a data parser which validates data.

https://www.prefect.io/blog/what-is-pydantic-validating-data-in-python
Prefect: A workflow management system that uses Pydantic for configuration and data validation.

Typer: A library for building CLI applications that uses Pydantic for argument parsing and validation.

FastAPI is a popular example of a production Python codebase that extensively uses Pydantic.
in its request and response models.

https://www.netguru.com/blog/data-validation-pydantic

A Pydantic model defines the structure and types of data expected in the request body.

Pydantic references models to automatically validate incoming data, convert it to Python objects, and generate API documentation.

### 4. Python vars

The program begins with capturing time stamps at the earliest possible moment.

Several different ways and modules have been used for time reporting.

Due to deprecations of datetime.utcnow() since version 3.12, we now use
datetime.now(UTC) to obtain a datetime object that is
“aware” of political time zones rather than “naive” ones that do not.
See https://docs.python.org/3/library/datetime.html?timetuple=#datetime.datetime.utcnow

To ensure consistency in all logs from machines throughout the world,
we store time stamps in UTC and in 24-hour clock time.
Python, PostgreSQL, FastAPI, and others use the precision of

ISO 8601 YYYY-MM-DD HH:MM:SS.ssssss+00:00 standard format<br />
such as: 2026-02-10 12:24:40.089415+00:00

(MySQL omits the precision).
Others add "Z" to indicate the UTC time zone, which is NOT adjusted for DST (Daylight Savings Time).
Others add a time zone offset, such as the negative "-07:00" indicates a time zone West of UTC/GMT.

Presentation to users is in each user's local time zone and in AM/PM format:
coverted from UTC ed on the local time zone obtained from operating system settings, such as:<br />
    2026-02-10 12:24:40.089415 PM MST -0700

### 5. OS vars

Some APIs were written to obtain its API Key from an OS-level variable.

### 6. .env overrrides

Too many developers put .env files to hold API Keys, which exposes them to everyone.

Coding should reference them in the User's Home folder where GitHub usually doesn't look.

However, .env files still contain plain text rather than encrypted cyphertext.

This is why a backup file is created automatically at start of run.

### 7. Sentiment analysis

The workflow includes an analysis of the prompt text for Negative, Positive, and Neutral words
based on the "VADER" database of English words.


<a name="multiple-generators"></a>

### 8. Multiple generators

My program currently makes use of these APIs:

   * OpenAI's DALL-E
   * Anthropic's Claud
   * Deep Seek Janus
   * Qwan's Qwen-1.5


### 9. image files

The program currently outputs "lossless" .png format image files.

TODO: It can also create files that are smaller by outputting "lossy" format image files in (jpeg, webp, etc.).

Then there are video (.mp4) format files.


### 10. Desire evaluation

Traditionally, the effectivenss of AI is measured by "Accuracy".

When art is generated, there needs to be a measure of <strong>taste</strong>
or "Desirability" to certain audiences.

### 11. Watermark

### 12. Encryption

Encryption also involves the creation and storage of keys used to encrypt and decrypt files.

The program can generate an symmetric key or a pair of asymmetric private and public keys.

On macOS machines, the program stores keys in Keychain app because it authenticates users.

### 13. Wallets

To monitize, a crypto wallet is needed. There are several of them.

### 14. NFT chain

### 15. Marketplace

### 16. Thumbnails

### 17. IPFS

Many blockchain make uses of the
IPFS (InterPlanetary File System) holds files permanently and cheaply.

### 18. QR code

QR codes typically send a URL to mobile devices though their camera.

### 19. Discord

Discord is a free chat app that doesn't charge money.

 TODO: Send to TODOIST https://developer.todoist.com/sync/v8/

 TODO: Send to IFTTT


### 20. SMTP email 

Emailing to a Gmail account is free.

 TODO: Send to email https://www.emaildev.com/

### 21. $MS etc.

Those like Zapier, and Microsoft Teams.

 TODO: Send to Jira.com, monday.com


### 22. Slack, Telegram, Whatsapp

### 23. logging

### 24. MongoDB Atlas

### 25. Analytics

dashboard and, more importantly, alerts

### 26. DPSy.ai Prompt Engineering

See https://bomonike.github.io/prompt-engineering/

<hr />

## You'll need a robot to make this

Before he died in 1944, Mondrian was working on two paintings simultaneusly:
This one he called "Boogy Woogie" (after the jazz song).

<a target="_blank" href="https://res.cloudinary.com/dcajqrroq/image/upload/v1738293479/Mondrian_NYC-1942-991x1024_kilwlx.webp"><img alt="Mondrian_NYC-1942-991x1024.png" src="https://res.cloudinary.com/dcajqrroq/image/upload/v1738293479/Mondrian_NYC-1942-991x1024_kilwlx.webp" /></a>

This above fittingly hung in New York's Museum of Modern Art.

The work is shown above in full screen so you can see that the colorful lines were made by applying colored tape. Mondrian didn't know about then until he arrived in New York City from the Netherlands. Piet Mondrian was born in Amersfort, Netherlands 1872.

To recreate the painting, a robot would be needed to apply the colored tape to the canvas.


## Other Mondrian generated art

* <a target="_blank" href="https://twitter.com/ArtByPietMondrian">ArtByPietMondrian</a>
* https://opensea.io/collection/mondriannft
* https://opensea.io/collection/soupxmondrian
* https://opensea.io/collection/pepemondrians
* https://opensea.io/collection/mondrian-on-polygon



## Reference

Other articles about tools to generate art:
* <a target="_blank" href="https://www.youtube.com/watch?v=Vgcr6VOwHf0">VIDEO</a>
* <a target="_blank" href="https://mondriangenerator.io/">Mondrian Generator</a> web-based tool. Allows you to adjust parameters in the left panel: Format (size), Complexity (number of blocks), Colors, Color amount.
* <a target="_blank" href="https://www.artvy.ai/ai-art-style/piet-mondrian">Artvy</a> generates based on an image you upload for style transfer.
* <a target="_blank" href="https://neural.love/ai-art-generator/1ed7da32-c7dc-6e2c-957c-7fd88793a662/mondrian-painting">Neural Love</a> generate art under a CC0 license.
* <a target="_blank" href="https://www.pcmag.com/how-to/how-to-use-dall-e-ai-art-generator">DaLL-E</a> from OpenAI's generates realistic as part of the ChatGPT Plus $20 per month paid version.
    See https://platform.openai.com/docs/overview
* <a target="_blank" href="https://dev.to/ranjancse/systematic-modern-artwork-with-aiconfig-1ol8">AiConfig</a>
* <a target="_blank" href="https://lastmileai.dev/">LastMileAI</a>
* https://github.com/unsettledgames/mondrian-generator
* Alternative API: https://niftykit.com/products/minting-api


